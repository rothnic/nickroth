@import "tailwindcss";

@plugin "daisyui" {
    themes: neobrutalism-light --default, neobrutalism-dark --prefersdark;
    logs: false;
}

    @plugin "daisyui/theme" {
        name: "neobrutalism-light";
        default: true;
        color-scheme: light;

        --color-base-100: oklch(0.99 0 0);
        --color-base-200: oklch(0.96 0.01 280);
        --color-base-300: oklch(0.92 0.02 280);
        --color-base-content: oklch(0.15 0 0);
        --color-primary: oklch(53.66% 0.2575 262.5);
        --color-primary-content: oklch(0.99 0 0);
        --color-secondary: oklch(92.68% 0.2313 124.4);
        --color-secondary-content: oklch(0.15 0 0);
        --color-accent: oklch(66.54% 0.2478 358.1);
        --color-accent-content: oklch(0.15 0 0);
        --color-neutral: oklch(0.15 0 0);
        --color-neutral-content: oklch(0.99 0 0);
        --color-info: oklch(0.65 0.24 240);
        --color-info-content: oklch(0.15 0 0);
        --color-success: oklch(72.27% 0.1920 149.6);
        --color-success-content: oklch(0.15 0 0);
        --color-warning: oklch(0.75 0.2 65);
        --color-warning-content: oklch(0.15 0 0);
        --color-error: oklch(0.63 0.26 25);
        --color-error-content: oklch(0.15 0 0);

        --radius-selector: 0rem;
        --radius-field: 0rem;
        --radius-box: 0rem;
        --size-selector: 0.25rem;
        --size-field: 0.25rem;
        --border: 2px;
        --depth: 1;
        --noise: 0;

        --nr-border-color: #000000;
        --nr-shadow-color: oklch(0.15 0 0 / 1);
        --nr-shadow-sm: 2px 2px 0px 0px var(--nr-shadow-color);
        --nr-shadow-base: 4px 4px 0px 0px var(--nr-shadow-color);
        --nr-shadow-lg: 12px 12px 0px 0px var(--nr-shadow-color);
        --nr-shadow-xl: 20px 20px 0px 0px var(--nr-shadow-color);
        --nr-shadow-xxl: 24px 24px 0px 0px var(--nr-shadow-color);
        --nr-shadow-hover: 10px 10px 0px 0px var(--nr-shadow-color);
        --nr-shadow-pressed: 3px 3px 0px 0px var(--nr-shadow-color);
        --nr-shadow-focus: 2px 2px 0px 0px var(--nr-shadow-color);

        --btn-border: #000000;
        --btn-border-width: 4px;
        --btn-color: var(--color-base-100);
        --btn-text: var(--color-base-content);
        --btn-hover-border: #000000;
        --btn-focus-border: #000000;
        --btn-focus-ring: 0;
        --btn-focus-scale: 1;
        --btn-text-case: uppercase;
        --btn-shadow: 8px 8px 0px 0px var(--nr-shadow-color);
        --btn-shadow-colored: 8px 8px 0px 0px var(--nr-shadow-color);
        --btn-shadow-hover: 4px 4px 0px 0px var(--nr-shadow-color);
        --rounded-btn: 0rem;

        --card-border: var(--nr-border-color);
        --card-border-width: 4px;
        --card-shadow: var(--nr-shadow-base);
    }

    @plugin "daisyui/theme" {
        name: "neobrutalism-dark";
        prefersdark: true;
        color-scheme: dark;

        --color-base-100: oklch(0.2 0.01 280);
        --color-base-200: oklch(0.25 0.02 280);
        --color-base-300: oklch(0.3 0.02 280);
        --color-base-content: oklch(0.95 0.01 280);
        --color-primary: oklch(85% 0.138 181.071);
        --color-primary-content: oklch(0.2 0.01 280);
        --color-secondary: oklch(92.68% 0.2313 124.4);
        --color-secondary-content: oklch(0.2 0.01 280);
        --color-accent: oklch(68.80% 0.2378 351.9);
        --color-accent-content: oklch(15.51% 0.0087 274.3);
        --color-neutral: oklch(0.35 0.01 280);
        --color-neutral-content: oklch(0.95 0.01 280);
        --color-info: oklch(0.7 0.26 240);
        --color-info-content: oklch(0.2 0.01 280);
        --color-success: oklch(72.27% 0.1920 149.6);
        --color-success-content: oklch(0.2 0.01 280);
        --color-warning: oklch(76.86% 0.1647 70.1);
        --color-warning-content: oklch(0.2 0.01 280);
        --color-error: oklch(64.50% 0.2154 16.4);
        --color-error-content: oklch(0.95 0.01 280);

        --radius-selector: 0rem;
        --radius-field: 0rem;
        --radius-box: 0rem;
        --size-selector: 0.25rem;
        --size-field: 0.25rem;
        --border: 2px;
        --depth: 1;
        --noise: 0;

        --nr-border-color: #ffffff;
        --nr-shadow-color: oklch(0.8 0.01 280 / 1);
        --nr-shadow-sm: 4px 4px 0px 0px var(--nr-shadow-color);
        --nr-shadow-base: 8px 8px 0px 0px var(--nr-shadow-color);
        --nr-shadow-lg: 12px 12px 0px 0px var(--nr-shadow-color);
        --nr-shadow-xl: 20px 20px 0px 0px var(--nr-shadow-color);
        --nr-shadow-xxl: 24px 24px 0px 0px var(--nr-shadow-color);
        --nr-shadow-hover: 10px 10px 0px 0px var(--nr-shadow-color);
        --nr-shadow-pressed: 3px 3px 0px 0px var(--nr-shadow-color);
        --nr-shadow-focus: 2px 2px 0px 0px var(--nr-shadow-color);

        --btn-border: #ffffff;
        --btn-border-width: 4px;
        --btn-color: var(--color-base-100);
        --btn-text: var(--color-base-content);
        --btn-hover-border: #ffffff;
        --btn-focus-border: #ffffff;
        --btn-focus-ring: 0;
        --btn-focus-scale: 1;
        --btn-text-case: uppercase;
        --btn-shadow: 8px 8px 0px 0px var(--nr-shadow-color);
        --btn-shadow-colored: 8px 8px 0px 0px var(--nr-shadow-color);
        --btn-shadow-hover: 4px 4px 0px 0px var(--nr-shadow-color);
        --rounded-btn: 0rem;

        --card-border: var(--nr-border-color);
        --card-border-width: 4px;
        --card-shadow: var(--nr-shadow-base);
    }

    @layer utilities {
        /* ========================================
           THEME-AGNOSTIC UTILITIES
           (No theme scoping needed)
           ======================================== */
        
        /* Base font family */
        html {
            font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            font-weight: 400;
        }

        /* Fonts */
        .font-display {
            font-family: "Space Grotesk", -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .font-mono {
            font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, monospace;
        }

        .font-glitch {
            font-family: "Rubik Glitch", cursive;
        }

        /* Automatically apply correct text colors when using bg-* utility classes */
        .bg-primary { color: var(--color-primary-content); }
        .bg-secondary { color: var(--color-secondary-content); }
        .bg-accent { color: var(--color-accent-content); }
        .bg-neutral { color: var(--color-neutral-content); }
        .bg-base-100 { color: var(--color-base-content); }
        .bg-base-200 { color: var(--color-base-content); }
        .bg-base-300 { color: var(--color-base-content); }
        .bg-info { color: var(--color-info-content); }
        .bg-success { color: var(--color-success-content); }
        .bg-warning { color: var(--color-warning-content); }
        .bg-error { color: var(--color-error-content); }

        /* Shadow utilities */
        .shadow-brutal-sm { box-shadow: var(--nr-shadow-sm); }
        .shadow-brutal { box-shadow: var(--nr-shadow-base); }
        .shadow-brutal-lg { box-shadow: var(--nr-shadow-lg); }
        .shadow-brutal-xl { box-shadow: var(--nr-shadow-xl); }

        /* Sticker rotations */
        /* Rotation utilities - general purpose for badges, buttons, cards */
        /* Use inline style="transform: rotate(Xdeg)" for base rotation */
        /* These classes add antialiasing to rotated elements */
        .rotate-1 { 
            transform: rotate(-8deg);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            transform-style: preserve-3d;
        }
        .rotate-2 { 
            transform: rotate(5deg);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            transform-style: preserve-3d;
        }
        .rotate-3 { 
            transform: rotate(-3deg);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            transform-style: preserve-3d;
        }
        .rotate-4 { 
            transform: rotate(12deg);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            transform-style: preserve-3d;
        }

        /* Rotation antialiasing helper - use with inline transform styles */
        .rotate-smooth {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            transform-style: preserve-3d;
        }

        /* Button rotation angle utilities */
        .btn-rotate-neg { --btn-rotate-angle: -1deg; }
        .btn-rotate-0 { --btn-rotate-angle: 0deg; }
        .btn-rotate-1 { --btn-rotate-angle: 1deg; }
        .btn-rotate-2 { --btn-rotate-angle: 2deg; }
        .btn-rotate-3 { --btn-rotate-angle: 3deg; }
        .btn-rotate-neg-2 { --btn-rotate-angle: -2deg; }
        .btn-rotate-neg-3 { --btn-rotate-angle: -3deg; }

        /* Border radius utilities */
        .rounded-brutal-sm { border-radius: 0.25rem; }
        .rounded-brutal { border-radius: 0.5rem; }
        .rounded-brutal-lg { border-radius: 1rem; }
        .rounded-brutal-xl { border-radius: 1.5rem; }
        .rounded-brutal-full { border-radius: 9999px; }

        /* Hover effects - composable using CSS custom properties */
        
        /* 
         * COMPOSABLE HOVER EFFECTS
         * 
         * Base class: .hover-effect (required)
         * Modifiers can be combined:
         * 
         * Examples:
         * - .hover-effect .hover-lift              → lifts up with shadow
         * - .hover-effect .hover-scale .hover-rotate-3  → scales AND rotates
         * - .hover-effect .hover-lift-sm .hover-rotate-neg-2  → small lift AND rotates counter-clockwise
         * 
         * Available modifiers:
         * Lift: hover-lift, hover-lift-sm, hover-lift-lg
         * Scale: hover-scale, hover-scale-sm, hover-scale-lg
         * Rotate: hover-rotate-1, hover-rotate-2, hover-rotate-3, hover-rotate-5
         *         hover-rotate-neg-1, hover-rotate-neg-2, hover-rotate-neg-3, hover-rotate-neg-5
         */
        
        /* Base hover utility - applies transition and anti-aliasing */
        .hover-effect {
            transition: transform 0.25s ease, box-shadow 0.25s ease;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            transform-style: preserve-3d;
            
            /* Default values - can be overridden by modifier classes */
            --hover-translate-x: 0px;
            --hover-translate-y: 0px;
            --hover-scale: 1;
            --hover-rotate: 0deg;
            
            &:hover {
                transform: 
                    translate(var(--hover-translate-x), var(--hover-translate-y)) 
                    scale(var(--hover-scale)) 
                    rotate(var(--hover-rotate));
                box-shadow: var(--hover-shadow, var(--nr-shadow-base));
            }
        }
        
        /* Lift effect modifiers */
        .hover-lift {
            --hover-translate-x: -6px;
            --hover-translate-y: -6px;
            --hover-shadow: var(--nr-shadow-xl);
        }
        
        .hover-lift-sm {
            --hover-translate-x: -3px;
            --hover-translate-y: -3px;
            --hover-shadow: var(--nr-shadow-lg);
        }
        
        .hover-lift-lg {
            --hover-translate-x: -8px;
            --hover-translate-y: -8px;
            --hover-shadow: var(--nr-shadow-xxl);
        }
        
        /* Scale effect modifiers */
        .hover-scale {
            --hover-scale: 1.05;
        }
        
        .hover-scale-sm {
            --hover-scale: 1.02;
        }
        
        .hover-scale-lg {
            --hover-scale: 1.1;
        }
        
        /* Rotation effect modifiers - various angles */
        .hover-rotate-1 { --hover-rotate: 1deg; }
        .hover-rotate-2 { --hover-rotate: 2deg; }
        .hover-rotate-3 { --hover-rotate: 3deg; }
        .hover-rotate-5 { --hover-rotate: 5deg; }
        .hover-rotate-neg-1 { --hover-rotate: -1deg; }
        .hover-rotate-neg-2 { --hover-rotate: -2deg; }
        .hover-rotate-neg-3 { --hover-rotate: -3deg; }
        .hover-rotate-neg-5 { --hover-rotate: -5deg; }
        
        /* Legacy classes for backward compatibility */
        .hover-rotate {
            --hover-rotate: -3deg;
        }

        /* Sticker positioning */
        .sticker-container { position: relative; }
        .sticker-top-left { position: absolute; top: 1rem; left: 1rem; }
        .sticker-top-right { position: absolute; top: 1rem; right: 1rem; }
        .sticker-bottom-left { position: absolute; bottom: 1rem; left: 1rem; }
        .sticker-bottom-right { position: absolute; bottom: 1rem; right: 1rem; }
        .sticker-top-center {
            position: absolute;
            top: 0.75rem;
            left: 50%;
            transform: translateX(-50%);
        }
        .sticker-bottom-center {
            position: absolute;
            bottom: 0.75rem;
            left: 50%;
            transform: translateX(-50%);
        }
        .sticker-middle-left {
            position: absolute;
            top: 50%;
            left: 0.5rem;
            transform: translateY(-50%);
        }
        .sticker-middle-right {
            position: absolute;
            top: 50%;
            right: 0.5rem;
            transform: translateY(-50%);
        }

        /* Organic clip paths */
        .organic-top {
            clip-path: polygon(0 85%, 25% 95%, 50% 90%, 75% 95%, 100% 85%, 100% 0, 0 0);
        }

        .organic-bottom {
            clip-path: polygon(0 0, 100% 0, 100% 40%, 90% 50%, 80% 45%, 70% 55%, 60% 50%, 50% 60%, 40% 50%, 30% 55%, 20% 45%, 10% 50%, 0 40%);
        }

        .organic-both {
            clip-path: polygon(
                0 15%, 25% 5%, 50% 10%, 75% 5%, 100% 15%,
                100% 85%, 75% 95%, 50% 90%, 25% 95%, 0 85%
            );
        }

        /* ========================================
           CUSTOM BADGE HEIGHT UTILITIES
           (Project-specific, not part of theme)
           ======================================== */
        
        /* Badge height modifiers - add vertical padding for "chunky" badges */
        .badge-height-xs {
            padding-top: 0.25rem;
            padding-bottom: 0.25rem;
        }

        .badge-height-sm {
            padding-top: 0.375rem;
            padding-bottom: 0.375rem;
        }

        .badge-height-md {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }

        .badge-height-lg {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }

        .badge-height-xl {
            padding-top: 0.625rem;
            padding-bottom: 0.625rem;
        }

        /* ========================================
           SHARED STYLES (BOTH THEMES)
           ======================================== */
        [data-theme="neobrutalism-light"],
        [data-theme="neobrutalism-dark"] {
            /* Buttons */
            .btn {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                gap: calc(var(--size-field) * 4);
                --btn-shadow: 8px 8px 0px 0px var(--nr-shadow-color);
                --btn-shadow-colored: 8px 8px 0px 0px var(--nr-shadow-color);
                --btn-shadow-hover: 4px 4px 0px 0px var(--nr-shadow-color);
                border-width: var(--btn-border-width);
                border-color: var(--btn-border);
                border-style: solid;
                border-radius: var(--rounded-btn);
                box-shadow: var(--btn-shadow);
                transform: translate(0, 0) rotate(0deg);
                font-weight: var(--font-weight-black);
                text-transform: var(--btn-text-case);
                transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, color 0.2s ease-in-out, background-color 0.2s ease-in-out;
                --btn-rotate-angle: 1deg;
                /* Anti-aliasing for crisp rendering */
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;

                &:hover:not(.hover-effect):not(.hover-lift):not(.hover-scale):not(.hover-rotate):not([class*="hover-rotate-"]) {
                    box-shadow: var(--btn-shadow-hover);
                    transform: translate(2px, 2px) rotate(var(--btn-rotate-angle));
                }

                &:active {
                    box-shadow: var(--nr-shadow-pressed);
                    transform: translate(0, 0) rotate(0deg);
                }

                &:focus-visible {
                    outline: 3px solid var(--btn-focus-border);
                    outline-offset: 2px;
                    box-shadow: var(--nr-shadow-focus);
                }

                &:disabled,
                &[disabled],
                &[aria-disabled="true"] {
                    opacity: 0.6;
                    cursor: not-allowed;
                    box-shadow: var(--nr-shadow-sm);
                    transform: none;
                }
            }

            .btn-primary {
                background-color: var(--color-primary);
                color: var(--color-primary-content);
            }

            .btn-secondary {
                background-color: var(--color-secondary);
                color: var(--color-secondary-content);
            }

            .btn-accent {
                background-color: var(--color-accent);
                color: var(--color-accent-content);
            }

            .btn-neutral {
                background-color: var(--color-neutral);
                color: var(--color-neutral-content);
            }

            .btn-info {
                background-color: var(--color-info);
                color: var(--color-info-content);
            }

            .btn-success {
                background-color: var(--color-success);
                color: var(--color-success-content);
            }

            .btn-warning {
                background-color: var(--color-warning);
                color: var(--color-warning-content);
            }

            .btn-error {
                background-color: var(--color-error);
                color: var(--color-error-content);
            }

            .btn-outline,
            .btn-ghost {
                color: var(--color-base-content);
                background-color: transparent;
            }

            .btn-ghost {
                border-width: 2px;
                box-shadow: var(--nr-shadow-sm);

                &:hover {
                    background-color: var(--color-base-200);
                }
            }

            .btn-square {
                width: 3rem;
                height: 3rem;
                padding: 0;
            }

            .btn-circle {
                width: 3rem;
                height: 3rem;
                padding: 0;
                border-radius: 9999px;
            }

            .btn-xs { padding: 0.375rem 0.875rem; font-size: 0.75rem; }
            .btn-sm { padding: 0.5rem 1.25rem; font-size: 0.875rem; }
            .btn-lg { padding: 1.125rem 1.75rem; font-size: 1.125rem; }
            .btn-xl { padding: 1.375rem 2rem; font-size: 1.25rem; }

            /* Cards */
            .card {
                border-width: var(--border);
                border-color: var(--nr-border-color);
                border-style: solid;
                border-radius: var(--radius-box);
                box-shadow: var(--nr-shadow-base);
                background-color: var(--color-base-100);
                transform: translate(0, 0);
                transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
                /* Anti-aliasing for crisp rendering */
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;

                &:hover:not(.hover-effect):not(.hover-lift):not(.hover-scale):not(.hover-rotate):not([class*="hover-rotate-"]) {
                    transform: translate(-4px, -4px);
                    box-shadow: var(--nr-shadow-lg);
                }
            }

            /* Badges */
            .badge {
                font-weight: var(--font-weight-black);
                text-transform: uppercase;
                border-width: 2px;
                border-color: var(--nr-border-color);
                border-style: solid;
                border-radius: var(--radius-selector);
                box-shadow: var(--nr-shadow-sm);
                letter-spacing: var(--nr-letter-spacing-tight);
                height: auto; /* Override DaisyUI's fixed height to allow padding control */
                /* Anti-aliasing for crisp rendering */
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .badge-primary {
                background-color: var(--color-primary);
                color: var(--color-primary-content);
            }

            .badge-secondary {
                background-color: var(--color-secondary);
                color: var(--color-secondary-content);
            }

            .badge-accent {
                background-color: var(--color-accent);
                color: var(--color-accent-content);
            }

            .badge-neutral {
                background-color: var(--color-neutral);
                color: var(--color-neutral-content);
            }

            .badge-info {
                background-color: var(--color-info);
                color: var(--color-info-content);
            }

            .badge-success {
                background-color: var(--color-success);
                color: var(--color-success-content);
            }

            .badge-warning {
                background-color: var(--color-warning);
                color: var(--color-warning-content);
            }

            .badge-error {
                background-color: var(--color-error);
                color: var(--color-error-content);
            }

            /* Form elements */
            .input,
            .textarea,
            .select,
            .file-input {
                border-width: var(--border);
                border-color: var(--nr-border-color);
                border-style: solid;
                border-radius: var(--radius-field);
                box-shadow: var(--nr-shadow-sm);
                transition: box-shadow 0.2s ease-in-out, border-color 0.2s ease-in-out;

                &:focus {
                    border-color: var(--nr-border-color);
                    box-shadow: var(--nr-shadow-focus);
                    outline: none;
                }
            }

            .checkbox,
            .radio,
            .toggle {
                border-width: var(--border);
                border-color: var(--nr-border-color);
                border-style: solid;
            }

            /* Navigation */
            .navbar {
                border-bottom-width: var(--border);
                border-color: var(--nr-border-color);
                border-style: solid;
                box-shadow: var(--nr-shadow-sm);
            }

            .tabs-bordered .tab {
                border-bottom-width: var(--border);
                border-color: var(--nr-border-color);
                border-style: solid;
            }

            /* Utility components */
            .toast,
            .collapse,
            .tooltip {
                border-width: var(--border);
                border-color: var(--nr-border-color);
                border-style: solid;
                box-shadow: var(--nr-shadow-sm);
            }

            /* Hero title badge */
            .hero-title-badge {
                background-color: var(--color-accent);
                color: var(--color-accent-content);
                border-width: 4px;
                border-color: var(--nr-border-color);
                box-shadow: var(--nr-shadow-base);
                padding: 0.5rem 1rem;
                font-weight: 900;
                text-transform: uppercase;
                display: inline-block;
            }

            /* Hero components */
            .hero-title {
                color: var(--color-base-content);
            }

            .hero-card-frame {
                background: linear-gradient(to bottom right,
                    var(--color-primary),
                    var(--color-secondary),
                    var(--color-warning)
                );
                border-color: var(--nr-border-color);
            }

            .hero-card-inner {
                background-color: var(--color-base-100);
                border-color: var(--nr-border-color);
            }

            .hero-decoration {
                border-color: var(--nr-border-color);
            }

            /* Sticker effect */
            .sticker {
                transform: rotate(-3deg);
                /* Enhanced anti-aliasing for smooth rotation rendering */
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                transform-style: preserve-3d;
                will-change: transform;
                image-rendering: crisp-edges;

                &:nth-child(2n) {
                    transform: rotate(2deg);
                }

                &:before {
                    content: "";
                    border-radius: inherit;
                    z-index: -1;
                    background: #fff3;
                    position: absolute;
                    inset: -2px;
                }
            }
        }

        /* ========================================
           LIGHT MODE OVERRIDES
           ======================================== */
        [data-theme="neobrutalism-light"] {
            /* Button borders */
            .btn:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]) {
                --btn-border: #000000;
                --btn-hover-border: #000000;
                --btn-focus-border: #000000;
            }

            /* Auto-apply black borders to bg-* utility classes */
            .bg-primary:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-secondary:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-accent:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-neutral:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-base-100:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-base-200:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-base-300:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-info:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-success:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-warning:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-error:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]) {
                border-color: #000000;
            }

            /* Graph paper texture */
            .texture-grain::before {
                background-image:
                    repeating-linear-gradient(
                        0deg,
                        transparent,
                        transparent 19px,
                        rgba(0, 0, 0, 0.04) 19px,
                        rgba(0, 0, 0, 0.04) 20px
                    ),
                    repeating-linear-gradient(
                        90deg,
                        transparent,
                        transparent 19px,
                        rgba(0, 0, 0, 0.04) 19px,
                        rgba(0, 0, 0, 0.04) 20px
                    );
            }

            /* Hero background gradient */
            .hero-bg {
                background: linear-gradient(to bottom right, 
                    oklch(0.99 0 0), 
                    oklch(0.95 0.02 195), 
                    oklch(0.96 0.02 135)
                );
            }
        }

        /* ========================================
           DARK MODE OVERRIDES
           ======================================== */
        [data-theme="neobrutalism-dark"] {
            /* Button borders */
            .btn:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]) {
                --btn-border: #ffffff;
                --btn-hover-border: #ffffff;
                --btn-focus-border: #ffffff;
            }

            /* Auto-apply white borders to bg-* utility classes */
            .bg-primary:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-secondary:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-accent:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-neutral:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-base-100:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-base-200:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-base-300:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-info:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-success:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-warning:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]),
            .bg-error:not([class*="border-primary"]):not([class*="border-secondary"]):not([class*="border-accent"]):not([class*="border-neutral"]):not([class*="border-info"]):not([class*="border-success"]):not([class*="border-warning"]):not([class*="border-error"]):not([class*="border-base"]) {
                border-color: #ffffff;
            }

            /* Graph paper texture */
            .texture-grain::before {
                background-image:
                    repeating-linear-gradient(
                        0deg,
                        transparent,
                        transparent 19px,
                        rgba(255, 255, 255, 0.04) 19px,
                        rgba(255, 255, 255, 0.04) 20px
                    ),
                    repeating-linear-gradient(
                        90deg,
                        transparent,
                        transparent 19px,
                        rgba(255, 255, 255, 0.04) 19px,
                        rgba(255, 255, 255, 0.04) 20px
                    );
            }

            /* Hero background gradient */
            .hero-bg {
                background: linear-gradient(to bottom right,
                    oklch(0.2 0.01 280),
                    oklch(0.22 0.06 195),
                    oklch(0.24 0.08 135)
                );
            }
        }

        /* ========================================
           SHARED EFFECTS (NOT THEME-DEPENDENT)
           ======================================== */
        
        /* Texture grain base */
        .texture-grain {
            position: relative;

            &::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                pointer-events: none;
            }
        }

        /* Glitch effect */
        @keyframes glitch-1 {
            0%, 100% { transform: translate(0); }
            10% { transform: translate(-2px, -2px); }
            20% { transform: translate(2px, 2px); }
            30% { transform: translate(-2px, 2px); }
            40% { transform: translate(2px, -2px); }
            50% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            70% { transform: translate(-2px, 2px); }
            80% { transform: translate(2px, -2px); }
            90% { transform: translate(-2px, -2px); }
        }

        @keyframes glitch-2 {
            0%, 100% { transform: translate(0); }
            10% { transform: translate(2px, 2px); }
            20% { transform: translate(-2px, -2px); }
            30% { transform: translate(2px, -2px); }
            40% { transform: translate(-2px, 2px); }
            50% { transform: translate(2px, 2px); }
            60% { transform: translate(-2px, -2px); }
            70% { transform: translate(2px, -2px); }
            80% { transform: translate(-2px, 2px); }
            90% { transform: translate(2px, 2px); }
        }

        .glitch-effect {
            position: relative;

            &::before,
            &::after {
                content: attr(data-text);
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                opacity: 0;
                pointer-events: none;
            }

            &:hover::before {
                animation: glitch-1 0.3s infinite;
                color: #ff0080;
                opacity: 0.8;
                z-index: -1;
            }

            &:hover::after {
                animation: glitch-2 0.3s infinite;
                color: #00ffff;
                opacity: 0.8;
                z-index: -2;
            }
        }

        /* Animations */
        @keyframes marquee-left {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        @keyframes marquee-right {
            0% { transform: translateX(-50%); }
            100% { transform: translateX(0); }
        }

        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes bounce-slow {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes sway {
            0%, 100% { transform: translateX(0) rotate(45deg); }
            50% { transform: translateX(15px) rotate(45deg); }
        }

        @keyframes pulse-shadow {
            0%, 100% { box-shadow: var(--nr-shadow-base); }
            50% { box-shadow: var(--nr-shadow-xl); }
        }

        /* Pop-in animation - scale from 0 to 1 with bounce (universal, works on any element) */
        /* Note: This only animates scale and opacity, preserving any transform on the element */
        @keyframes pop-in {
            0% { 
                scale: 0;
                opacity: 0;
            }
            50% {
                scale: 1.1;
            }
            100% { 
                scale: 1;
                opacity: 1;
            }
        }

        .animate-marquee-left { animation: marquee-left 20s linear infinite; }
        .animate-marquee-right { animation: marquee-right 25s linear infinite; }
        .animate-spin-slow { animation: spin-slow 20s linear infinite; }
        .animate-bounce-slow { animation: bounce-slow 4s ease-in-out infinite; }
        .animate-sway { animation: sway 5s ease-in-out infinite; }
        .animate-pulse-shadow { animation: pulse-shadow 2.5s ease-in-out infinite; }

        /* Pop-in animation - works universally on any element */
        .animate-pop-in {
            animation: pop-in 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        /* Stagger delays for sequential animations */
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }
        .delay-4 { animation-delay: 0.4s; }
        .delay-5 { animation-delay: 0.5s; }
        .delay-6 { animation-delay: 0.6s; }

        /* 
         * Universal hover effects that work WITH existing transforms
         * 
         * STRATEGY: Use nested wrappers when combining rotation + hover scale
         * 
         * Pattern 1 - Simple (no rotation):
         *   <span class="badge hover-scale-up hover-shadow-boost">Badge</span>
         * 
         * Pattern 2 - With rotation (nested):
         *   <span style="transform: rotate(-8deg)" class="rotate-smooth">
         *     <span class="badge hover-scale-up hover-shadow-boost">Badge</span>
         *   </span>
         * 
         * Pattern 3 - Direct (for non-interactive rotation):
         *   <span class="badge rotate-2">Badge</span>
         */

        /* Hover scale effect - uses scale property to work with transform: rotate() */
        .hover-scale-up {
            transition: scale 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), rotate 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);

            &:hover {
                scale: 1.1;
            }
        }

        .hover-scale-up-sm {
            transition: scale 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), rotate 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);

            &:hover {
                scale: 1.05;
            }
        }

        .hover-scale-up-lg {
            transition: scale 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), rotate 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);

            &:hover {
                scale: 1.15;
            }
        }

        /* Hover rotate effect - adds slight rotation change using rotate property */
        /* Note: rotate property is ADDITIVE to transform: rotate(), so both work together */
        .hover-rotate-more {
            &:hover {
                rotate: 3deg;
            }
        }

        .hover-rotate-more-neg {
            &:hover {
                rotate: -3deg;
            }
        }

        .hover-rotate-wiggle {
            &:hover {
                rotate: 2deg;
            }
        }

        .hover-rotate-wiggle-neg {
            &:hover {
                rotate: -2deg;
            }
        }

        /* Hover shadow boost - increases shadow depth */
        .hover-shadow-boost {
            transition: box-shadow 0.2s ease;
            
            &:hover {
                box-shadow: 5px 5px 0px 0px var(--nr-shadow-color) !important;
            }
        }

        .hover-shadow-boost-lg {
            transition: box-shadow 0.2s ease;
            
            &:hover {
                box-shadow: 8px 8px 0px 0px var(--nr-shadow-color) !important;
            }
        }

        /* Scroll animations */
        .fade-in-up {
            opacity: 0 !important;
            transform: translateY(40px) !important;
            transition: opacity 0.8s ease-out, transform 0.8s ease-out !important;

            &.visible {
                opacity: 1 !important;
                transform: translateY(0) !important;
            }
        }

        .slide-in-left {
            opacity: 0 !important;
            transform: translateX(-80px) !important;
            transition: opacity 0.8s ease-out, transform 0.8s ease-out !important;

            &.visible {
                opacity: 1 !important;
                transform: translateX(0) !important;
            }
        }

        .slide-in-right {
            opacity: 0 !important;
            transform: translateX(80px) !important;
            transition: opacity 0.8s ease-out, transform 0.8s ease-out !important;

            &.visible {
                opacity: 1 !important;
                transform: translateX(0) !important;
            }
        }

        .scale-in {
            opacity: 0 !important;
            transform: scale(0.7) !important;
            transition: opacity 0.8s ease-out, transform 0.8s ease-out !important;

            &.visible {
                opacity: 1 !important;
                transform: scale(1) !important;
            }
        }

        /* View transitions */
        html[data-vt-nav] body {
            pointer-events: none;
        }

        ::view-transition-old(root),
        ::view-transition-new(root) {
            animation-duration: 0.45s;
            animation-timing-function: cubic-bezier(0.32, 0.72, 0, 1);
        }
    }
