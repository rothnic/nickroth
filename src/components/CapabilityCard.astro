---
export interface Props {
  title: string;
  description: string;
  icon?: string | undefined;
  href?: string | undefined;
}

const rawTitle = Astro.props.title;
const slug = rawTitle
  .toLowerCase()
  .replace(/[^a-z0-9\s]/g, '')
  .trim()
  .replace(/\s+/g, '-');

const {
  title,
  description,
  icon = "ðŸš€",
  href = `/approach#${slug}`,
} = Astro.props;
---

<a
  href={href}
  class="group relative block h-full overflow-hidden rounded-[28px] border-2 border-base-300/80 bg-base-100/80 p-8 shadow-brutal transition-all duration-300 hover:-translate-y-1.5 hover:shadow-brutal-dark focus:outline-none focus-visible:ring-4 focus-visible:ring-primary/40"
>
  <div class="absolute inset-6 rounded-3xl opacity-0 transition-opacity duration-300 group-hover:opacity-100">
    <div class="h-full w-full rounded-[22px] bg-noisy-grid [background-size:18px_18px]"></div>
  </div>
  <div class="relative flex h-full flex-col gap-4">
    <div class="inline-flex h-12 w-12 items-center justify-center rounded-2xl border border-base-300/70 bg-base-100 text-2xl shadow-sm transition-transform duration-300 group-hover:-translate-y-1 group-hover:rotate-3">
      {icon}
    </div>
    <h3 class="text-xl font-semibold tracking-tight text-base-content">{title}</h3>
    <p class="text-sm leading-relaxed text-base-content/75">{description}</p>
    <span class="mt-auto inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-base-content/60 transition-colors duration-300 group-hover:text-primary">
      Explore
      <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M7 17L17 7M7 7h10v10" />
      </svg>
    </span>
  </div>
</a>
