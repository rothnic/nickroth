---
// FeatureBlock - A TL;DR/feature highlight component for MDX
// Desktop: 3-column grid with icon on top
// Mobile: List layout with icon on left

export interface Feature {
  icon: string;
  title: string;
  description: string;
}

export interface Props {
  title?: string;
  features: Feature[];
}

const { title = "TL;DR", features } = Astro.props as Props;
---

<div class="feature-block-container my-8">
  {/* Header */}
  <div class="feature-block-header bg-base-200 border-2 border-base-content py-3 px-4 mb-4 shadow-[4px_4px_0_0_rgba(0,0,0,1)]">
    <h3 class="text-center font-mono text-sm font-bold uppercase tracking-wider text-base-content m-0">
      {title}
    </h3>
  </div>
  
  {/* Features Grid */}
  <div class="feature-grid grid grid-cols-1 md:grid-cols-3 gap-4">
    {features.map((feature) => (
      <div class="feature-item bg-base-100 border-2 border-base-content p-4 shadow-[4px_4px_0_0_rgba(0,0,0,1)] flex md:flex-col items-start md:items-center gap-3 md:gap-2">
        {/* Icon */}
        <div class="feature-icon text-2xl md:text-3xl flex-shrink-0">
          {feature.icon}
        </div>
        
        {/* Content */}
        <div class="feature-content flex-1">
          <h4 class="feature-title font-mono text-sm font-bold uppercase tracking-wide text-base-content mb-1 m-0">
            {feature.title}
          </h4>
          <p class="feature-description text-sm text-base-content/70 leading-snug m-0">
            {feature.description}
          </p>
        </div>
      </div>
    ))}
  </div>
</div>

<style>
  .feature-block-container {
    /* Container styles handled by utility classes */
  }
  
  .feature-block-header {
    /* Hard shadow handled by Tailwind shadow-[...] */
  }
  
  .feature-item {
    /* Mobile: flex row (icon left, content right)
       Desktop: flex column (icon top, content below) */
    min-height: 100px;
  }
  
  @media (max-width: 767px) {
    .feature-item {
      flex-direction: row !important;
      align-items: flex-start !important;
    }
    
    .feature-icon {
      margin-top: 2px;
    }
    
    .feature-content {
      text-align: left !important;
    }
  }
</style>