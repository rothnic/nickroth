<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 420" role="img" aria-label="Comparison of text streaming and object tool-call streaming">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto">
      <polygon points="0 0, 10 4, 0 8" fill="var(--color-base-content, #1a1a1a)" />
    </marker>
  </defs>

  <style>
    .card { fill: var(--color-base-100, #ffffff); stroke: var(--color-base-content, #1a1a1a); stroke-width: 3; }
    .left { fill: var(--color-primary, #00c4d8); }
    .right { fill: var(--color-secondary, #8ee35b); }
    .mid { fill: var(--color-base-300, #d7d7d7); }
    .text { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; fill: var(--color-base-content, #1a1a1a); }
    .title { font-size: 24px; font-weight: 800; }
    .h { font-size: 18px; font-weight: 700; }
    .p { font-size: 13px; }
    .arrow { stroke: var(--color-base-content, #1a1a1a); stroke-width: 3; marker-end: url(#arrow); fill: none; }
  </style>

  <text x="450" y="36" text-anchor="middle" class="text title">Two Streaming Contracts</text>

  <rect x="35" y="80" width="255" height="285" rx="12" class="card left" />
  <text x="162" y="120" text-anchor="middle" class="text h">Text Stream</text>
  <text x="162" y="148" text-anchor="middle" class="text p">1. Token output for chat UX</text>
  <text x="162" y="172" text-anchor="middle" class="text p">2. Great for explanation + tone</text>
  <text x="162" y="196" text-anchor="middle" class="text p">3. Not safe for direct mutation</text>
  <text x="162" y="236" text-anchor="middle" class="text p">UI effect:</text>
  <text x="162" y="258" text-anchor="middle" class="text p">Readable assistant response</text>
  <text x="162" y="280" text-anchor="middle" class="text p">with progressive feedback</text>

  <rect x="325" y="80" width="250" height="285" rx="12" class="card mid" />
  <text x="450" y="120" text-anchor="middle" class="text h">Validation Boundary</text>
  <text x="450" y="154" text-anchor="middle" class="text p">Path stabilization</text>
  <text x="450" y="178" text-anchor="middle" class="text p">Schema checks</text>
  <text x="450" y="202" text-anchor="middle" class="text p">Patch operation guards</text>
  <text x="450" y="244" text-anchor="middle" class="text p">Only validated operations</text>
  <text x="450" y="266" text-anchor="middle" class="text p">cross this boundary</text>

  <rect x="610" y="80" width="255" height="285" rx="12" class="card right" />
  <text x="737" y="120" text-anchor="middle" class="text h">Object / Tool Stream</text>
  <text x="737" y="148" text-anchor="middle" class="text p">1. Structured tool-call frames</text>
  <text x="737" y="172" text-anchor="middle" class="text p">2. RFC 6902 patch payloads</text>
  <text x="737" y="196" text-anchor="middle" class="text p">3. Deterministic state mutation</text>
  <text x="737" y="236" text-anchor="middle" class="text p">UI effect:</text>
  <text x="737" y="258" text-anchor="middle" class="text p">Precise resume updates</text>
  <text x="737" y="280" text-anchor="middle" class="text p">without full regeneration</text>

  <line x1="290" y1="220" x2="325" y2="220" class="arrow" />
  <line x1="575" y1="220" x2="610" y2="220" class="arrow" />
</svg>
